<!DOCTYPE html>
<html>
<head>
    <title>Cinnabar on Dolomite</title>
    <script src='scripts/jquery-2.1.0.min.js' type='text/javascript'></script>
    <script src='scripts/knockout-3.0.0.js' type='text/javascript'></script>
    <link href="style/style.css" rel="stylesheet" type='text/css'/>
</head>
<body>

<div id='modals' data-bind="visible: loginLoggedIn() == false">
    <div id='loginForm' class="centerH centerV" data-bind="visible: loginLoggedIn() == false">
        <form>
            <h1>Login to Dolomite</h1>
            <p data-bind="text:loginNotice(), visible:loginNotice() != ''"></p>
            <label for='loginUsername'>Username:</label>
            <input type='text' data-bind="value: loginUsername" id='loginUsername' />
            <label for='loginPassword'>Password:</label>
            <input type='password' data-bind="value: loginPassword" id='loginPassword' />
            <button data-bind="click: loginSubmitLogin">Login</button>
        </form>
    </div>
    <div id='genError' class="centerH centerV" data-bind="text: generalError(), visible: generalError() != false"></div>
</div>

<div id='topBar'>
    <div id='logo'>
        <img src='img/logo.png' title="Cinnabar on Dolomite" />
    </div>
    <div id='playControls'>
        <div class='button small' data-bind="click: previousTrack">
            <img src='img/back.png' alt='back' title='Previous Track' />
        </div>
        <div class='button large' data-bind="click: togglePlayback">
            <img src='img/pause.png' alt='pause' title='Play/Pause' data-bind="visible: playing() == 'playing'" />
            <img src='img/play.png' alt='play' title='Play/Pause' data-bind="visible: playing() == 'paused' || !playing()"/>
        </div>
        <div class='button small' data-bind="click: nextTrack">
            <img src='img/forward.png' alt='forward' title='Next Track' />
        </div>
    </div>
    <div id='playSlider'>
        <div id='scrubber' data-bind="visible: playing();">
            <div id='played' data-bind="style:{width: playingProgress() + '%'}"></div>
        </div>
        <div id='playInfo' data-bind="visible: playing();">
            <div id='trackInfo'>
                <span data-bind="text: playingTrack().Metadata.Title"></span> |
                <span data-bind="text: playingTrack().Metadata.Artist"></span> |
                <span data-bind="text: playingTrack().Metadata.Album"></span>
            </div>
            <div id='timeInfo'>
                <span data-bind="text: playingProgressTime"></span> /
                <span data-bind="text: calculateTrackTime(playingTrack().Metadata.Duration)"></span>
            </div>
        </div>
    </div>
    <div id='listControls'>
        <div class='button small'><img src='img/shuffle.png' alt='shuffle' title='Shuffle On/Off' /></div>
        <div class='button small'><img src='img/repeat_selected.png' alt='repeat' title='Repeat On/Off' /></div>
    </div>
    <div id='settings'>
        <div class='button small'><img src='img/volume.png' alt='volume' title='Volume' /></div>
        <div class='button small'><img src='img/options.png' alt='settings' title='Settings' /></div>
    </div>
</div>
<div id='mainPane'>
    <div id='leftBar'>
        <div id='navBar' data-bind="css:{playing: playing() != false}">
            <ul>
                <li class='selectable' data-bind="click: showAllTracks, css:{selected: visiblePane() == 'tracks'}">Tracks</li>
                <li class='selectable' data-bind="css:{selected: visiblePane() == 'artists'}">Artists</li>
                <li class='selectable' data-bind="css:{selected: visiblePane() == 'albums'}">Albums</li>
                <li class='selectable' data-bind="css:{selected: visiblePane() == 'genres'}">Genres</li>
                <li>
                    Auto Playlists
                    <button class='addButton' title='Add Auto Playlist'><img src='img/plus.png' alt='+' /></button>
                    <ul data-bind="foreach: navAutoPlaylists()">
                        <li class='selectable' data-bind="text: Name, click: $root.loadPlaylist.bind($data, 'auto'), css:{selected: $root.visiblePane() == 'auto' + Id}"></li>
                    </ul>
                </li>
                <li>
                    Playlists
                    <button class='addButton' title='Add Playlist'><img src='img/plus.png' alt='+' /></button>
                    <ul data-bind="foreach: navStaticPlaylists()">
                        <li class='selectable' data-bind="text: Name, click: $root.loadPlaylist.bind($data, 'static'), css:{selected: $root.visiblePane() == 'static' + Id}"></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div id='albumArt' data-bind="visible: playing() != false">
            <img data-bind="attr:{src: playingTrack().ArtHref != null ? playingArt() : ''}" />
        </div>
    </div>
    <div id='infoBar' style='height:48px; background-color:#0055d4;'>
        <span data-bind="text: infoTotalTracks()"></span>
        Tracks |
        <span data-bind="text: infoTotalTime()"></span>
        1 week 4 days 11 hours 44 minutes
        <input type='text' placeholder="Search Tracks"/>
    </div>
    <div id='trackPane'>
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th>Track #</th>
                    <th>Title</th>
                    <th>Time</th>
                    <th>Artist</th>
                    <th>Album</th>
                    <th>Year</th>
                </tr>
            </thead>
            <tbody data-bind="foreach: trackVisibleTracks()">
                <tr>
                    <td><span data-bind="click: $root.manualPlay">Play</span></td>
                    <td data-bind="text: calculateTrackNumber(Metadata['Track Number'],Metadata['Disc Number'])"></td>
                    <td data-bind="text: Metadata.Title"></td>
                    <td data-bind="text: calculateTrackTime(Metadata.Duration)"></td>
                    <td data-bind="text: Metadata.Artist"></td>
                    <td data-bind="text: Metadata.Album"></td>
                    <td data-bind="text: Metadata.Year"></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
<script src='scripts/app2.js' type='text/javascript'></script>
</html>